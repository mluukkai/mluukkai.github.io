{"data":{"markdownRemark":{"html":"<div class=\"content\">\n<p>Before we start programming, we will go through some principles of web development by examining an example application at <a href=\"https://fullstack-exampleapp.herokuapp.com/\">https://fullstack-exampleapp.herokuapp.com/</a>.\nAnother version of the application can be found at <a href=\"https://fullstack-example.now.sh\">https://fullstack-example.now.sh</a>. You are free to use either one. </p>\n<p>The applications are there only to demonstrate some basic concepts of the course, and are by no means examples of <i>how</i>  web applications should be made.\nIn the contrary, they demonstrate some old techniques of web development, which can even be seen as <i>bad practice</i> nowadays. </p>\n<p>Coding in the recommended style begins in <a href=\"/osa1\">part 1</a>.</p>\n<p>Use the Chrome browser <i>now and all throughout the course</i>.</p>\n<p>Open the <a href=\"https://fullstack-exampleapp.herokuapp.com/\">example application</a> on your browser. Sometimes this takes a while. </p>\n<p><strong>The 1st rule of web development</strong>: Always keep the developer console open on your browser. With mac, the console can be opened by pressing <em>alt</em> <em>cmd</em> and <em>i</em> simultaneously.\nWith windows the console opens by pressing <em>F12</em> or <em>ctrl</em> <em>shift</em> and <em>i</em> simultaneously. </p>\n<p>Before continuing, find out how to open the developer console on your computer (google if necessary) and remember to <i>always</i> keep it open when developing web applications. </p>\n<p>The console looks as follows:\n<picture><img src=\"/static/29fd80fd1403c5f8ce9789f364a513b1/14be6/1.png\" srcset=\"/static/29fd80fd1403c5f8ce9789f364a513b1/4cce7/1.png 200w,\n/static/29fd80fd1403c5f8ce9789f364a513b1/bae5f/1.png 400w,\n/static/29fd80fd1403c5f8ce9789f364a513b1/14be6/1.png 800w,\n/static/29fd80fd1403c5f8ce9789f364a513b1/1b35a/1.png 1200w,\n/static/29fd80fd1403c5f8ce9789f364a513b1/de5ec/1.png 1560w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture></p>\n<p>Ensure that the <i>Network</i> tab is open, and activate <i>Disable cache</i> as shown. <i>Preserve log</i> can also be useful. It saves the logs printed by the application when the page is reloaded. </p>\n<p><strong>NB:</strong> The most important tab is the <i>Console</i>. However, in the introduction we will be using the <i>Network</i> tab quite a bit.</p>\n<h3>HTTP GET</h3>\n<p>The server and the web browser communicate with each other using the <a href=\"https://developer.mozilla.org/fi/docs/Web/HTTP\">HTTP</a> protocol. The Network tab shows how the browser and the server communicate.</p>\n<p>When you reload the page (press the F5 key or the â†º symbol on your browser), the console shows that two events have happened:</p>\n<ul>\n<li>The browser fetches the contents of the page <i>fullstack-exampleapp.herokuapp.com/</i> from the server</li>\n<li>And downloads the image<i>kuva.png</i></li>\n</ul>\n<picture><img src=\"/static/716c322ab7ee4fd84de48e7ad3c2954b/14be6/2.png\" srcset=\"/static/716c322ab7ee4fd84de48e7ad3c2954b/4cce7/2.png 200w,\n/static/716c322ab7ee4fd84de48e7ad3c2954b/bae5f/2.png 400w,\n/static/716c322ab7ee4fd84de48e7ad3c2954b/14be6/2.png 800w,\n/static/716c322ab7ee4fd84de48e7ad3c2954b/1b35a/2.png 1200w,\n/static/716c322ab7ee4fd84de48e7ad3c2954b/9ee03/2.png 1600w,\n/static/716c322ab7ee4fd84de48e7ad3c2954b/d6bb9/2.png 1696w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>On a small screen you might have to widen the console window to see these. </p>\n<p>Clicking the first event reveals more information on what's happening: </p>\n<picture><img src=\"/static/5ed686742a2edaecb4a21fabfa8103c1/14be6/3.png\" srcset=\"/static/5ed686742a2edaecb4a21fabfa8103c1/4cce7/3.png 200w,\n/static/5ed686742a2edaecb4a21fabfa8103c1/bae5f/3.png 400w,\n/static/5ed686742a2edaecb4a21fabfa8103c1/14be6/3.png 800w,\n/static/5ed686742a2edaecb4a21fabfa8103c1/1b35a/3.png 1200w,\n/static/5ed686742a2edaecb4a21fabfa8103c1/dc943/3.png 1562w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>The upper part ,<i>General</i>, shows that the browser did a request to the address <i><a href=\"https://fullstack-exampleapp.herokuapp.com/\">https://fullstack-exampleapp.herokuapp.com/</a></i> using the  <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET\">GET</a> method, and that the request was successfull, because the server response had the <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\">Status code</a> 200. </p>\n<p>The request and the server response have serveral <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_header_fields\">headers</a>:</p>\n<picture><img src=\"/static/8953b9a666c7574e7a9056ec9734a9dd/14be6/4.png\" srcset=\"/static/8953b9a666c7574e7a9056ec9734a9dd/4cce7/4.png 200w,\n/static/8953b9a666c7574e7a9056ec9734a9dd/bae5f/4.png 400w,\n/static/8953b9a666c7574e7a9056ec9734a9dd/14be6/4.png 800w,\n/static/8953b9a666c7574e7a9056ec9734a9dd/1b35a/4.png 1200w,\n/static/8953b9a666c7574e7a9056ec9734a9dd/de5ec/4.png 1560w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>The <i>Response headers</i> on top tell us e.g the size of the response in bytes, and the exact time of the response. An important header <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\">Content-Type</a> tells us that the response is a text file in <a href=\"https://en.wikipedia.org/wiki/UTF-8\">utf-8</a>-format, contents of which have been formatted with HTML. This way the browser knows the response to be a regular <a href=\"https://en.wikipedia.org/wiki/HTML\">HTML</a>-page, and to render it to the browser 'like a web page'.</p>\n<p><i>Response</i> tab shows the response data, a regular HTML-page. The <i>body</i> section determines the structure of the page rendered to the screen: </p>\n<picture><img src=\"/static/3076bd5084ae1d5f3390887286bec453/14be6/5.png\" srcset=\"/static/3076bd5084ae1d5f3390887286bec453/4cce7/5.png 200w,\n/static/3076bd5084ae1d5f3390887286bec453/bae5f/5.png 400w,\n/static/3076bd5084ae1d5f3390887286bec453/14be6/5.png 800w,\n/static/3076bd5084ae1d5f3390887286bec453/1b35a/5.png 1200w,\n/static/3076bd5084ae1d5f3390887286bec453/9ee03/5.png 1600w,\n/static/3076bd5084ae1d5f3390887286bec453/d6bb9/5.png 1696w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>The page contains a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div\">div</a> element, which in turn contains a header, a link to the page <i>notes</i>, and an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img\">img</a> tag, and displays the amount of notes created.</p>\n<p>Because of the img tag, the browser does a second <i>HTTP-request</i> to fetch the image <i>kuva.png</i> from the server. The details of the request are as follows: </p>\n<picture><img src=\"/static/1308ee2f8499722f7409ff08554d24f4/14be6/6.png\" srcset=\"/static/1308ee2f8499722f7409ff08554d24f4/4cce7/6.png 200w,\n/static/1308ee2f8499722f7409ff08554d24f4/bae5f/6.png 400w,\n/static/1308ee2f8499722f7409ff08554d24f4/14be6/6.png 800w,\n/static/1308ee2f8499722f7409ff08554d24f4/1b35a/6.png 1200w,\n/static/1308ee2f8499722f7409ff08554d24f4/9ee03/6.png 1600w,\n/static/1308ee2f8499722f7409ff08554d24f4/766b4/6.png 1682w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>The request was made to the address <a href=\"https://fullstack-exampleapp.herokuapp.com/kuva.png\">https://fullstack-exampleapp.herokuapp.com/kuva.png</a> and it's type is HTTP GET. The response headers tell us that the response size is 89350 bytes, and it's <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\">Content-type</a> is <i>image/png</i>, so it is a png image. Browser uses this information to render the image correctly to the screen. </p>\n<p>The chain of events caused by opening the page <a href=\"https://fullstack-exampleapp.herokuapp.com/\">https://fullstack-exampleapp.herokuapp.com/</a> on a browser form the following <a href=\"https://github.com/mluukkai/ohjelmistotekniikka-kevat2019/blob/master/web/materiaali.md#sekvenssikaaviot\">sequence diagram</a></p>\n<picture><img src=\"/static/8bc17feddb589400a94d38426bbcc59a/14be6/7b.png\" srcset=\"/static/8bc17feddb589400a94d38426bbcc59a/4cce7/7b.png 200w,\n/static/8bc17feddb589400a94d38426bbcc59a/bae5f/7b.png 400w,\n/static/8bc17feddb589400a94d38426bbcc59a/14be6/7b.png 800w,\n/static/8bc17feddb589400a94d38426bbcc59a/1b35a/7b.png 1200w,\n/static/8bc17feddb589400a94d38426bbcc59a/9ee03/7b.png 1600w,\n/static/8bc17feddb589400a94d38426bbcc59a/895c5/7b.png 1650w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>First, the browser does a HTTP GET request to the server to fetch the HTML code of the page. The <i>img</i> tag in the HTML prompts the browser to fetch the image <i>kuva.png</i>. The browser renders the HTML page and the image to the screen. </p>\n<p>Even though it is difficult to notice, the HTML page begins to render before the image has been fetched from the server. </p>\n<h3>Traditional web applications</h3>\n<p>The homepage of the example application works like a <i>traditional web application</i>. When entering the page, browser fetches the HTML document detailing the structure and the textual content of the page from the server.</p>\n<p>The server has formed this document somehow. The document can be a <i>static</i> text file saved into the server's directory. The server can also form the HTML documents <i>dynamically</i>  according to the application code, using for example data from a database.\nThe HTML code of the example application has been formed dynamically, because it contains information on the amount of created notes. </p>\n<p>The HTML code of the homepage is as follows: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getFrontPageHtml</span> <span class=\"token operator\">=</span> noteCount <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`\n    &lt;!DOCTYPE html>\n    &lt;html>\n      &lt;head>\n      &lt;/head>\n      &lt;body>\n        &lt;div class=\"container\">\n          &lt;h1>Full stack -esimerkkisovellus&lt;/h1>\n          &lt;p>muistiinpanoja luotu </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>noteCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> kappaletta&lt;/p>\n          &lt;a href=\"/notes\">muistiinpanot&lt;/a>\n          &lt;img src=\"kuva.png\" width=\"200\" />\n        &lt;/div>\n      &lt;/body>\n    &lt;/html>\n  `</span></span>\n<span class=\"token punctuation\">}</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token function\">getFrontPageHtml</span><span class=\"token punctuation\">(</span>notes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>You don't have to understand the code just yet. </p>\n<p>The content of the HTML page has been saved as a template string, or a string which allows for evaluating, for example, variables in the midst of it. The dynamically changing part of the homepage, the amount of saved notes (in the code <em>noteCount</em>), is replaced by the current amount of notes (in the code <em>notes.length</em>) in the template string.</p>\n<p>Writing HTML in the midst of the code is of course not smart, but for old-school PHP-programmers it was a normal practice.</p>\n<p>In traditional web applications the browser is \"dumb\". It only fetches HTML data from the server, and all application logic is on the server. A server can be created for example using Java Spring like on the course <a href=\"https://courses.helsinki.fi/fi/tkt21007/119558639\">Web-palvelinohjelmointi</a>, Python Flask like on the course <a href=\"https://materiaalit.github.io/tsoha-18/\">tietokantasovellus</a> or  <a href=\"http://rubyonrails.org/\">Ruby on Railsilla</a>.\nThe example uses <a href=\"https://expressjs.com/\">Express</a> from Node.js.\nThis course will use Node.js and Express to create web servers. </p>\n<h3>Running application logic on the browser</h3>\n<p>Keep the developer console open. Empty the console by clicking the âˆ… symbol.\nNow when you go to the <a href=\"https://fullstack-exampleapp.herokuapp.com/notes\">notes</a> page, the browser does 4 HTTP requests: </p>\n<picture><img src=\"/static/bcc84d9235997b140f3eeee7c87dd717/14be6/8.png\" srcset=\"/static/bcc84d9235997b140f3eeee7c87dd717/4cce7/8.png 200w,\n/static/bcc84d9235997b140f3eeee7c87dd717/bae5f/8.png 400w,\n/static/bcc84d9235997b140f3eeee7c87dd717/14be6/8.png 800w,\n/static/bcc84d9235997b140f3eeee7c87dd717/1b35a/8.png 1200w,\n/static/bcc84d9235997b140f3eeee7c87dd717/9ee03/8.png 1600w,\n/static/bcc84d9235997b140f3eeee7c87dd717/c104f/8.png 1698w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>All of the requests have <i>different</i> types. The first request's type is <i>document</i>. It is the HTML code of the page, and it looks as follows: </p>\n<picture><img src=\"/static/0742abfef6460207e65d9aff98970a19/14be6/9.png\" srcset=\"/static/0742abfef6460207e65d9aff98970a19/4cce7/9.png 200w,\n/static/0742abfef6460207e65d9aff98970a19/bae5f/9.png 400w,\n/static/0742abfef6460207e65d9aff98970a19/14be6/9.png 800w,\n/static/0742abfef6460207e65d9aff98970a19/1b35a/9.png 1200w,\n/static/0742abfef6460207e65d9aff98970a19/9ee03/9.png 1600w,\n/static/0742abfef6460207e65d9aff98970a19/72014/9.png 1690w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>When we compare the page shown on the browser and the HTML code returned by the server, we notice that the code does not contain the list of notes.\nThe <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head\">head</a>-section of the HTML contains a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\">script</a>-tag, which causes the browser to fetch a JavaScript file called <i>main.js</i>.</p>\n<p>The JavaScript code looks as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> xhttp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>status <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">var</span> ul <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span>\n    ul<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'notes'</span><span class=\"token punctuation\">)</span>\n\n    data<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span>\n\n      ul<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span>\n      li<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>ul<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span>\n\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/data.json'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The details of the code are not important right now, but some code has been included to spice up the images and the text. We will properly start coding in <a href=\"/osa1\">part 1</a>. The sample code in this part is actually not relevant at all to the coding techniques of this course. </p>\n<blockquote>\n<p>Some might wonder why xhttp-object is used instead of the modern fetch. This is due to not wanting to go into promises at all yet, and the code having a secondary role in this part. We will return to modern ways to make requests to the server in part 2. </p>\n</blockquote>\n<p>Immediately after fetching the <i>script</i> tag, the browser begins to execute the code. </p>\n<p>The last two lines define that the the browser does a HTTP GET request to the servers address <i>/data.json</i>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">xhttp<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/data.json'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This is the down-most request shown on the Network tab. </p>\n<p>We can try going to the address <a href=\"https://fullstack-exampleapp.herokuapp.com/data.json\">https://fullstack-exampleapp.herokuapp.com/data.json</a> straight from the browser:</p>\n<picture><img src=\"/static/cb953c21dd6ffdce9202cbd34daa4c00/14be6/10.png\" srcset=\"/static/cb953c21dd6ffdce9202cbd34daa4c00/4cce7/10.png 200w,\n/static/cb953c21dd6ffdce9202cbd34daa4c00/bae5f/10.png 400w,\n/static/cb953c21dd6ffdce9202cbd34daa4c00/14be6/10.png 800w,\n/static/cb953c21dd6ffdce9202cbd34daa4c00/1b35a/10.png 1200w,\n/static/cb953c21dd6ffdce9202cbd34daa4c00/9ee03/10.png 1600w,\n/static/cb953c21dd6ffdce9202cbd34daa4c00/72014/10.png 1690w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>There we find the notes in <a href=\"https://en.wikipedia.org/wiki/JSON\">JSON</a> \"raw data\".\nBy default, the browser is not too good at displaying JSON-data. Plugins can be used to handle the formatting. Install for example <a href=\"https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc\">JSONView</a> to Chrome, and reload the page. The data is now much more nicely formatted. </p>\n<picture><img src=\"/static/bbb29035e26395f03d477eee6d1cba7a/14be6/11.png\" srcset=\"/static/bbb29035e26395f03d477eee6d1cba7a/4cce7/11.png 200w,\n/static/bbb29035e26395f03d477eee6d1cba7a/bae5f/11.png 400w,\n/static/bbb29035e26395f03d477eee6d1cba7a/14be6/11.png 800w,\n/static/bbb29035e26395f03d477eee6d1cba7a/1b35a/11.png 1200w,\n/static/bbb29035e26395f03d477eee6d1cba7a/9ee03/11.png 1600w,\n/static/bbb29035e26395f03d477eee6d1cba7a/fa017/11.png 1692w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>So, the JavaScript code of the notes page above downloads the JSON-data containing the notes, and forms a bullet-point list from the note contents: </p>\n<p>This is done by the following code: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">var</span> ul <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span>\nul<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'notes'</span><span class=\"token punctuation\">)</span>\n\ndata<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span>\n\n  ul<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span>\n  li<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>ul<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The code first creates an unordered list with an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul\">ul</a>-tag...</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> ul <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span>\nul<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'notes'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>...and then adds one <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li\">li</a>-tag for each note. Only the <i>content</i> field of each note becomes the contents of the li-tag. The timestamps found in the raw data are not used for anything here. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">data<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span>\n\n  ul<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span>\n  li<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now open the <i>Console</i>-tab on your developer console:</p>\n<picture><img src=\"/static/5b965ea129967532805a79f12a69ba6a/14be6/12.png\" srcset=\"/static/5b965ea129967532805a79f12a69ba6a/4cce7/12.png 200w,\n/static/5b965ea129967532805a79f12a69ba6a/bae5f/12.png 400w,\n/static/5b965ea129967532805a79f12a69ba6a/14be6/12.png 800w,\n/static/5b965ea129967532805a79f12a69ba6a/1b35a/12.png 1200w,\n/static/5b965ea129967532805a79f12a69ba6a/9ee03/12.png 1600w,\n/static/5b965ea129967532805a79f12a69ba6a/766b4/12.png 1682w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>By clicking the little triangle at the beginning of the line, you can expand the text on the console.</p>\n<picture><img src=\"/static/da956e06cdfd05f2c68f54225a498e52/14be6/13.png\" srcset=\"/static/da956e06cdfd05f2c68f54225a498e52/4cce7/13.png 200w,\n/static/da956e06cdfd05f2c68f54225a498e52/bae5f/13.png 400w,\n/static/da956e06cdfd05f2c68f54225a498e52/14be6/13.png 800w,\n/static/da956e06cdfd05f2c68f54225a498e52/1b35a/13.png 1200w,\n/static/da956e06cdfd05f2c68f54225a498e52/9ee03/13.png 1600w,\n/static/da956e06cdfd05f2c68f54225a498e52/c659e/13.png 1668w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>This output on the console is caused by <em>console.log</em> command in the code:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span></code></pre></div>\n<p>So after receiving data from the server, the code prints it to the console. </p>\n<p>The <i>Console</i> tab and the <em>console.log</em> command will become very familiar to you during the course. </p>\n<h3>Event handlers and Callback functions</h3>\n<p>The structure of the code is a bit odd:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> xhttp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// koodi, joka kÃ¤sittelee palvelimen vastauksen</span>\n<span class=\"token punctuation\">}</span>\n\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/data.json'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\nxhttp<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The request to the server is sent on the last line, but the code to handle the response can be found further up. Whats going on? </p>\n<p>On this line,</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">xhttp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></code></pre></div>\n<p>an <i>event handler</i> for event <i>onreadystatechange</i> is defined for the <em>xhttp</em> object doing the request. When the state of the object changes, the browser calls the event handler function. The function code checks that the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState\">readyState</a> equals 4 (which depicts the situation <i>The operation is complete</i> ) and that the HTTP status code of the response is 200. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">xhttp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">==</span> <span class=\"token number\">4</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>status <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// koodi, joka kÃ¤sittelee palvelimen vastauksen</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The mechanism of invoking event handlers is very common in JavaScript. Event handler functions are called <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Callback_function\">callback</a> functions. The application code does not invoke the functions itself, but the runtime environment - the browser, invokes the function at an appropriate time, when the <i>event</i> has occurred. </p>\n<h3>Document Object Model or DOM</h3>\n<p>We can think of HTML-pages as implicit tree structures.</p>\n<pre>\nhtml\n  head\n    link\n    script\n  body\n    div\n      h1\n      div\n        ul\n          li\n          li\n          li\n      form\n        input\n        input\n</pre>\n<p>The same treelike structure can be seen on the console tab <i>Elements</i>.</p>\n<picture><img src=\"/static/474f69df4df028d0e38b300ae1020154/14be6/14.png\" srcset=\"/static/474f69df4df028d0e38b300ae1020154/4cce7/14.png 200w,\n/static/474f69df4df028d0e38b300ae1020154/bae5f/14.png 400w,\n/static/474f69df4df028d0e38b300ae1020154/14be6/14.png 800w,\n/static/474f69df4df028d0e38b300ae1020154/1b35a/14.png 1200w,\n/static/474f69df4df028d0e38b300ae1020154/9ee03/14.png 1600w,\n/static/474f69df4df028d0e38b300ae1020154/35b75/14.png 1622w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>The functioning of the browser is based on the idea of depicting HTML elements as a tree. </p>\n<p>Document Object Model, or <a href=\"https://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a> is an Application Programming Interface, (an <i>API</i>), which enables programmatic modification of the <i>element trees</i> corresponding to web-pages.</p>\n<p>The JavaScript code introduced in the previous chapter used the DOM-API to add a list of notes to the page. </p>\n<p>The following code creates a new node to the variable <em>ul</em>, and adds some child nodes to it: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> ul <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span>\n\ndata<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span>\n\n  ul<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span>\n  li<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Finally, the tree branch of the <em>ul</em> variable is connected to its proper place in the HTML tree of the whole page: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>ul<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>manipulating the document-object from console</h3>\n<p>The topmost node of the DOM tree of a HTML document is called the <em>document</em>. You can access this object from the Console-tab: </p>\n<picture><img src=\"/static/3dbde47674c2036591f29fdeeb3d7ba4/14be6/15.png\" srcset=\"/static/3dbde47674c2036591f29fdeeb3d7ba4/4cce7/15.png 200w,\n/static/3dbde47674c2036591f29fdeeb3d7ba4/bae5f/15.png 400w,\n/static/3dbde47674c2036591f29fdeeb3d7ba4/14be6/15.png 800w,\n/static/3dbde47674c2036591f29fdeeb3d7ba4/1b35a/15.png 1200w,\n/static/3dbde47674c2036591f29fdeeb3d7ba4/136ae/15.png 1598w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>We can perform various operations on a web-page using the DOM-API and utilizing the <em>document</em> object. </p>\n<p>Let's add a new note to the page from the console. </p>\n<p>First, we'll get the list of notes from the page. The list is in the first ul-element of the page: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">lista <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ul'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Then create a new li-element and add some text content to it:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">uusi <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span>\nuusi<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Sivun manipulointi konsolista on helppoa'</span></code></pre></div>\n<p>And add the new li-element to the list:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">lista<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>uusi<span class=\"token punctuation\">)</span></code></pre></div>\n<picture><img src=\"/static/ac3eff15154bf4211b39758900580cae/14be6/16.png\" srcset=\"/static/ac3eff15154bf4211b39758900580cae/4cce7/16.png 200w,\n/static/ac3eff15154bf4211b39758900580cae/bae5f/16.png 400w,\n/static/ac3eff15154bf4211b39758900580cae/14be6/16.png 800w,\n/static/ac3eff15154bf4211b39758900580cae/1b35a/16.png 1200w,\n/static/ac3eff15154bf4211b39758900580cae/599a8/16.png 1592w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Even though the page updates on your browser, the changes are not permanent. If the page is reloaded, the new note will dissappear, because the changes were not pushed to the server. The JavaScript code the browser fetches will always create the list of notes based on JSON-data from address <a href=\"https://fullstack-exampleapp.herokuapp.com/data.json\">https://fullstack-exampleapp.herokuapp.com/data.json</a>.</p>\n<!-- Vaikka selaimen nÃ¤yttÃ¤mÃ¤ sivu pÃ¤ivittyy, ei muutos ole lopullinen. Jos sivu uudelleenladataan, katoaa uusi muistiinpano, sillÃ¤ muutos ei mennyt palvelimelle asti. Selaimen lataama Javascript luo muistiinpanojen listan aina palvelimelta osoitteesta <https://fullstack-exampleapp.herokuapp.com/data.json> haettavan JSON-muotoisen raakadatan perusteella. -->\n<h3>CSS</h3>\n<p>The <i>head</i> element of the HTML code of the Notes page contains a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link\">link</a> tag, which determines that the browser must fetch a <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS\">CSS</a> style sheet from the address <a href=\"https://fullstack-exampleapp.herokuapp.com/main.css\">main.css</a>.</p>\n<!-- Muistiinpanojen sivun HTML-koodin <i>head</i>-osio sisÃ¤ltÃ¤Ã¤ [link](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link)-tagin, joka mÃ¤Ã¤rittelee, ettÃ¤ selaimen tulee ladata palvelimelta osoitteesta [main.css](https://fullstack-exampleapp.herokuapp.com/main.css) sivulla kÃ¤ytettÃ¤vÃ¤ [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS)-tyylitiedosto. -->\n<p>Cascading Style Sheets, or CSS, is a markup language used to determine the appearance of web applications. </p>\n<!-- Cascading Style Sheets eli CSS on kieli, jonka avulla web-sovellusten ulkoasu mÃ¤Ã¤ritellÃ¤Ã¤n. -->\n<p>The fetched CSS-file looks as follows: </p>\n<!-- Ladattu css-tiedosto nÃ¤yttÃ¤Ã¤ seuraavalta: -->\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid<span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.notes</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The file defines two <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Class_selectors\">class selectors</a>. These are used to select certain parts of the page and to define styling rules to style them. </p>\n<!-- Tiedosto mÃ¤Ã¤rittelee kaksi [luokkaselektoria](https://developer.mozilla.org/en-US/docs/Web/CSS/Class_selectors), joiden avulla valitaan tietty sivun alue ja mÃ¤Ã¤ritellÃ¤Ã¤n alueelle sovellettavat tyylisÃ¤Ã¤nnÃ¶t. -->\n<p>A class selector definition always starts with a period, and contains the name of the class. </p>\n<!-- Luokkaselektori alkaa aina pisteellÃ¤ ja sisÃ¤ltÃ¤Ã¤ luokan nimen. -->\n<p>The classes are <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class\">attributes</a>, which can be added to HTML elements. </p>\n<!-- Luokat ovat [attribuutteja](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class) joita voidaan liittÃ¤Ã¤ HTML-elementeille. -->\n<p>CSS attributes can be examined on the <i>elements</i> tab on the console:  </p>\n<picture><img src=\"/static/43a54ac42b3efeb2628bac650ea9f024/14be6/17.png\" srcset=\"/static/43a54ac42b3efeb2628bac650ea9f024/4cce7/17.png 200w,\n/static/43a54ac42b3efeb2628bac650ea9f024/bae5f/17.png 400w,\n/static/43a54ac42b3efeb2628bac650ea9f024/14be6/17.png 800w,\n/static/43a54ac42b3efeb2628bac650ea9f024/1b35a/17.png 1200w,\n/static/43a54ac42b3efeb2628bac650ea9f024/8e7a2/17.png 1584w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- sovelluksen uloimmalle <i>div</i>-elementille on siis liitetty luokka <i>container</i>. Muistiinpanojen listan sisÃ¤ltÃ¤vÃ¤ <i>ul</i>-elementin sisÃ¤llÃ¤ oleva lista sisÃ¤ltÃ¤Ã¤ luokan <i>notes</i>. -->\n<p>The outermost <i>div</i> element has the class <i>container</i>. The <i>ul</i> element containing the list of notes has the class <i>notes</i>.</p>\n<!-- CSS-sÃ¤Ã¤nnÃ¶n avulla on mÃ¤Ã¤ritelty, ettÃ¤ <i>container</i>-luokan sisÃ¤ltÃ¤vÃ¤ elementti ympÃ¤rÃ¶idÃ¤Ã¤n yhden pikselin paksuisella [border](https://developer.mozilla.org/en-US/docs/Web/CSS/border):illa. Elementille asetetaan myÃ¶s 10 pikselin [padding](https://developer.mozilla.org/en-US/docs/Web/CSS/padding), jonka ansiosta elementin sisÃ¤llÃ¶n ja elementin ulkorajan vÃ¤liin jÃ¤tetÃ¤Ã¤n hieman tilaa. -->\n<p>The CSS rule defines, that element with the <i>container</i> class will be outlined with one pixel wide <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border\">border</a>. It also sets 10 pixel <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/padding\">padding</a> to the element. This sets some empty space between the element content and the border. </p>\n<!-- Toinen mÃ¤Ã¤ritelty CSS-sÃ¤Ã¤ntÃ¶ asettaa muistiinpanojen kirjainten vÃ¤rin siniseksi. -->\n<p>The second CSS rule sets the text color of the notes blue. </p>\n<!-- HTML-elementeillÃ¤ on muitakin attribuutteja kuin luokkia. Muistiinpanot sisÃ¤ltÃ¤vÃ¤ <i>div</i>-elementti sisÃ¤ltÃ¤Ã¤ [id](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)-attribuutin. Javascript-koodi hyÃ¶dyntÃ¤Ã¤ attribuuttia elementin etsimiseen. -->\n<p>HTML elements can also have other attributes than classes. The <i>div</i> element containing the notes has an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\">id</a> attribute. JavaScript code uses the id to find the element. </p>\n<!-- Konsolin <i>Elements</i>-vÃ¤lilehdellÃ¤ on mahdollista manipuloida elementtien tyylejÃ¤: -->\n<p>The <i>Elements</i> tab of the console can be used to change the styles of the elements. </p>\n<picture><img src=\"/static/a2b7736fd7e905ec86de4f8c2f2cf039/14be6/18.png\" srcset=\"/static/a2b7736fd7e905ec86de4f8c2f2cf039/4cce7/18.png 200w,\n/static/a2b7736fd7e905ec86de4f8c2f2cf039/bae5f/18.png 400w,\n/static/a2b7736fd7e905ec86de4f8c2f2cf039/14be6/18.png 800w,\n/static/a2b7736fd7e905ec86de4f8c2f2cf039/1b35a/18.png 1200w,\n/static/a2b7736fd7e905ec86de4f8c2f2cf039/9ee03/18.png 1600w,\n/static/a2b7736fd7e905ec86de4f8c2f2cf039/a3b7c/18.png 1602w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- Tehdyt muutokset eivÃ¤t luonnollisestikaan jÃ¤Ã¤ voimaan kun selaimen sivu uudelleenladataan, eli jos muutokset halutaan pysyviksi, tulee ne konsolissa tehtÃ¤vien kokeilujen jÃ¤lkeen tallettaa palvelimella olevaan tyylitiedostoon. -->\n<p>Changes made on the console will not be permanent. If you want to make lasting changes, they must be saved to the CSS style sheet on the server. </p>\n<h3>Loading a page containing JavaScript - revised</h3>\n<!-- Kerrataan vielÃ¤ mitÃ¤ tapahtuu kun selaimessa avataan sivu https://fullstack-exampleapp.herokuapp.com/notes -->\n<p>Let's revise what happens when the page <a href=\"https://fullstack-exampleapp.herokuapp.com/notes\">https://fullstack-exampleapp.herokuapp.com/notes</a> is opened on the browser. </p>\n<picture><img src=\"/static/3596c9e991f85185d33b8678d9c6e720/14be6/19b.png\" srcset=\"/static/3596c9e991f85185d33b8678d9c6e720/4cce7/19b.png 200w,\n/static/3596c9e991f85185d33b8678d9c6e720/bae5f/19b.png 400w,\n/static/3596c9e991f85185d33b8678d9c6e720/14be6/19b.png 800w,\n/static/3596c9e991f85185d33b8678d9c6e720/1b35a/19b.png 1200w,\n/static/3596c9e991f85185d33b8678d9c6e720/9ee03/19b.png 1600w,\n/static/3596c9e991f85185d33b8678d9c6e720/9b8db/19b.png 1792w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- - selain hakee palvelimelta sivun sisÃ¤llÃ¶n ja rakenteen mÃ¤Ã¤rittelevÃ¤n HTML-koodin HTTP GET -pyynnÃ¶llÃ¤ -->\n<!-- - HTML-koodi saa aikaan sen, ettÃ¤ selain hakee sivun tyylit mÃ¤Ã¤rittelevÃ¤n tiedoston <i>main.css</i> -->\n<!-- - sekÃ¤ Javascript-koodia sisÃ¤ltÃ¤vÃ¤n tiedoston <i>main.js</i> -->\n<!-- - selain alkaa suorittaa hakemaansa Javascript-koodia, joka tekee HTTP GET -pyynnÃ¶n muistiinpanot json-muotoisena raakadatana palauttavaan osoitteeseen https://fullstack-exampleapp.herokuapp.com/data.json -->\n<!-- - datan saapuessa selain suorittaa <i>tapahtumankÃ¤sittelijÃ¤n</i>, joka renderÃ¶i DOM-apia hyvÃ¤ksikÃ¤yttÃ¤en muistiinpanot ruudulle -->\n<ul>\n<li>The browser fetches the HTML code defining the content and the structure of the page from the server using a HTTP GET request.</li>\n<li>Links in the HTML code cause the browser to also fetch the CSS style sheet <i>main.css</i>...</li>\n<li>...and a JavaScript code file <i>main.js</i></li>\n<li>The browser executes the JavaScript code. The code makes a HTTP GET request to the address <a href=\"https://fullstack-exampleapp.herokuapp.com/data.json\">https://fullstack-exampleapp.herokuapp.com/data.json</a>, which\nreturns the notes as JSON  data. </li>\n<li>When the data has been fetched, the browser executes an <i>event handler</i>, which renders the notes to the page using the DOM-API. </li>\n</ul>\n<h3>Forms and HTTP POST</h3>\n<!-- Tutkitaan seuraavaksi sitÃ¤, miten uusien muistiinpanojen luominen tapahtuu. TÃ¤tÃ¤ varten muistiinpanojen sivu sisÃ¤ltÃ¤Ã¤ lomakkeen eli [form-elementin](https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Your_first_HTML_form). -->\n<p>Next let's examine how adding a new note is done. </p>\n<p>The Notes page contains a <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Your_first_HTML_form\">form-element</a></p>\n<picture><img src=\"/static/3d5871bc3c8161903722b65b3b07cd86/14be6/20.png\" srcset=\"/static/3d5871bc3c8161903722b65b3b07cd86/4cce7/20.png 200w,\n/static/3d5871bc3c8161903722b65b3b07cd86/bae5f/20.png 400w,\n/static/3d5871bc3c8161903722b65b3b07cd86/14be6/20.png 800w,\n/static/3d5871bc3c8161903722b65b3b07cd86/1b35a/20.png 1200w,\n/static/3d5871bc3c8161903722b65b3b07cd86/9ee03/20.png 1600w,\n/static/3d5871bc3c8161903722b65b3b07cd86/b2c70/20.png 1638w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- Kun lomakkeen painiketta painetaan, lÃ¤hettÃ¤Ã¤ selain lomakkeelle syÃ¶tetyn datan palvelimelle. Avataan <i>Network</i>-vÃ¤lilehti ja katsotaan miltÃ¤ lomakkeen lÃ¤hettÃ¤minen nÃ¤yttÃ¤Ã¤: -->\n<p>When the button on the form is clicked, the browser will send the user input to the server. Let's open the <i>Network</i> tab and see what submitting the form looks like: </p>\n<picture><img src=\"/static/69f426a4a457d39578e3d7be2a41ef34/14be6/21.png\" srcset=\"/static/69f426a4a457d39578e3d7be2a41ef34/4cce7/21.png 200w,\n/static/69f426a4a457d39578e3d7be2a41ef34/bae5f/21.png 400w,\n/static/69f426a4a457d39578e3d7be2a41ef34/14be6/21.png 800w,\n/static/69f426a4a457d39578e3d7be2a41ef34/1b35a/21.png 1200w,\n/static/69f426a4a457d39578e3d7be2a41ef34/9ee03/21.png 1600w,\n/static/69f426a4a457d39578e3d7be2a41ef34/0c0a3/21.png 1624w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- Lomakkeen lÃ¤hettÃ¤minen aiheuttaa yllÃ¤ttÃ¤en yhteensÃ¤ <i>viisi</i> HTTP-pyyntÃ¶Ã¤. NÃ¤istÃ¤ ensimmÃ¤inen vastaa lomakkeen lÃ¤hetystapahtumaa. Tarkennetaan siihen: -->\n<p>Surprisingly, submitting the form causes altogether <i>five</i> HTTP requests.\nThe first one is the form submit event. Let's zoom into it: </p>\n<picture><img src=\"/static/7e6fa71fab270a867bb214534ed31791/14be6/22.png\" srcset=\"/static/7e6fa71fab270a867bb214534ed31791/4cce7/22.png 200w,\n/static/7e6fa71fab270a867bb214534ed31791/bae5f/22.png 400w,\n/static/7e6fa71fab270a867bb214534ed31791/14be6/22.png 800w,\n/static/7e6fa71fab270a867bb214534ed31791/1b35a/22.png 1200w,\n/static/7e6fa71fab270a867bb214534ed31791/9ee03/22.png 1600w,\n/static/7e6fa71fab270a867bb214534ed31791/c7474/22.png 1816w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- KyseessÃ¤ on siis [HTTP POST](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST) -pyyntÃ¶ ja se on tehty palvelimen osoitteeseen <i>new\\_note</i>. Palvelin vastaa pyyntÃ¶Ã¶n HTTP-statuskoodilla 302. KyseessÃ¤ on ns. [uudelleenohjauspyyntÃ¶](https://en.wikipedia.org/wiki/URL_redirection) eli redirectaus, minkÃ¤ avulla palvelin kehottaa selainta tekemÃ¤Ã¤n automaattisesti uuden HTTP GET -pyynnÃ¶n headerin <i>Location</i> kertomaan paikkaan, eli osoitteeseen <i>notes</i>. -->\n<p>It is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\">HTTP POST</a> request to the server address <i>new_note</i>. The server responds with HTTP status code 302. This is an <a href=\"https://en.wikipedia.org/wiki/URL_redirection\">URL redirect</a>, with which the server asks the browser to do a new HTTP GET request to the address defined in the header's <i>Location</i> - the address <i>notes</i>.</p>\n<!-- Selain siis lataa uudelleen muistiinpanojen sivun. Sivunlataus saa aikaan myÃ¶s kolme muuta HTTP-pyyntÃ¶Ã¤: tyylitiedoston (main.css), Javascript-koodin (main.js) ja muistiinpanojen raakadatan (data.json) lataamisen. -->\n<p>So, the browser reloads the Notes page. The reload causes three more HTTP requests: fetching the style sheet (main.css), the JavaScript code (main.js) and the raw data of the notes (data.json). </p>\n<!-- Network-vÃ¤lilehti nÃ¤yttÃ¤Ã¤ myÃ¶s lomakkeen mukana lÃ¤hetetyn datan: -->\n<p>The network tab also shows the data submitted with the form: </p>\n<picture><img src=\"/static/9eaaf633798dee42ed0745132f66c197/14be6/23.png\" srcset=\"/static/9eaaf633798dee42ed0745132f66c197/4cce7/23.png 200w,\n/static/9eaaf633798dee42ed0745132f66c197/bae5f/23.png 400w,\n/static/9eaaf633798dee42ed0745132f66c197/14be6/23.png 800w,\n/static/9eaaf633798dee42ed0745132f66c197/1b35a/23.png 1200w,\n/static/9eaaf633798dee42ed0745132f66c197/9ee03/23.png 1600w,\n/static/9eaaf633798dee42ed0745132f66c197/22439/23.png 1804w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- Lomakkeen lÃ¤hettÃ¤minen tapahtuu HTTP POST -pyyntÃ¶nÃ¤ ja osoitteeseen <i>new_note</i> form-tagiin mÃ¤Ã¤riteltyjen attribuuttien <i>action</i>  ja <i>method</i>  ansiosta: -->\n<p>The Form tag has attributes <i>action</i> and <i>method</i>, which define that submitting the form is done as a HTTP POST request to the address <i>new_note</i>. </p>\n<picture><img src=\"/static/7b2be770ba7e139cc80d4e8b0e7b2f46/14be6/24.png\" srcset=\"/static/7b2be770ba7e139cc80d4e8b0e7b2f46/4cce7/24.png 200w,\n/static/7b2be770ba7e139cc80d4e8b0e7b2f46/bae5f/24.png 400w,\n/static/7b2be770ba7e139cc80d4e8b0e7b2f46/14be6/24.png 800w,\n/static/7b2be770ba7e139cc80d4e8b0e7b2f46/1b35a/24.png 1200w,\n/static/7b2be770ba7e139cc80d4e8b0e7b2f46/cf43e/24.png 1550w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- POST-pyynnÃ¶stÃ¤ huolehtiva palvelimen koodi on yksinkertainen (huom: tÃ¤mÃ¤ koodi on siis palvelimella eikÃ¤ nÃ¤y selaimen lataamassa Javascript-tiedostossa): -->\n<p>The code on the server responsible for the POST request is simple (NB: this code is on the server, and not on the JavaScript code fetched by the browser):</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/new_note'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    content<span class=\"token punctuation\">:</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>note<span class=\"token punctuation\">,</span>\n    date<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/notes'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<!-- POST-pyyntÃ¶ihin liitettÃ¤vÃ¤ data lÃ¤hetetÃ¤Ã¤n pyynnÃ¶n mukana \"runkona\" eli [bodynÃ¤](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST). Palvelin saa POST-pyynnÃ¶n datan pyytÃ¤mÃ¤llÃ¤ sitÃ¤ pyyntÃ¶Ã¤ vastaavan olion <em>req</em> kentÃ¤stÃ¤ <em>req.body</em>. -->\n<p>Data is sent as the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\">body</a> of the POST-request. </p>\n<!-- TekstikenttÃ¤Ã¤n kirjoitettu data on kentÃ¤ssÃ¤ <i>note</i>, eli palvelin viittaa siihen <em>req.body.note</em>. -->\n<p>The server can access the data by accessing the <em>req.body</em> field of the request object <em>req</em>.</p>\n<!-- Palvelin luo uutta muistiinpanoa vastaavan olion ja laittaa sen muistiinpanot sisÃ¤ltÃ¤vÃ¤Ã¤n taulukkoon nimeltÃ¤Ã¤n <em>notes</em>: -->\n<p>The Server creates a new note object, and adds it to an array called <em>notes</em>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  content<span class=\"token punctuation\">:</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>note<span class=\"token punctuation\">,</span>\n  date<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<!-- Muistiinpano-olioilla on siis kaksi kenttÃ¤Ã¤, varsinaisen sisÃ¤llÃ¶n kuvaava <i>content</i> ja luomishetken kertova <i>date</i>. -->\n<!-- Palvelin ei talleta muistiinpanoja tietokantaan, joten uudet muistiinpanot katoavat aina Herokun uudelleenkÃ¤ynnistÃ¤essÃ¤ palvelun. -->\n<p>The Note objects have two fields: <i>content</i> containing the actual content of the note, and <i>date</i> containing the date and time the note was created.\nThe server does not save new notes to a database, so new notes dissappear when Heroku restarts the service. </p>\n<h3>AJAX</h3>\n<!-- Sovelluksen muistiinpanojen sivu noudattaa vuosituhannen alun tyyliÃ¤ ja se \"kÃ¤yttÃ¤Ã¤ AJAX:ia\", eli on silloisen kehityksen aallonharjalla. -->\n<p>The Notes page of the application follows the noughties style of web development and \"uses Ajax\", so it is on the forefront of web technology for the early 2000's. </p>\n<!-- [AJAX](<https://en.wikipedia.org/wiki/Ajax_(programming)>) (Asynchronous Javascript and XML) on termi, joka lanseerattiin vuoden 2005 helmikuussa kuvaamaan selainten kehityksen mahdollistamaa vallankumouksellista tapaa, missÃ¤ HTML-sivulle sisÃ¤llytetyn Javascriptin avulla oli mahdollista ladata sivulle lisÃ¤Ã¤ sisÃ¤ltÃ¶Ã¤ lataamatta itse sivua uudelleen. -->\n<p><a href=\"https://en.wikipedia.org/wiki/Ajax_(programming)\">AJAX</a> (Asynchronous Javascript and XML) is a term which was launched in February 2005 to\ndescribe the new revolutionary way browser development enabled fetching new content to webpages using JavaScript included in the HTML without having to rerender the page. </p>\n<!-- Ennen AJAX:in aikakautta jokainen sivu toimi aiemmassa luvussa olevan [perinteisen web-sovelluksen](/osa0#perinteinen-web-sovellus) tapaan, eli oleellisesti ottaen kaikki sivuilla nÃ¤ytettÃ¤vÃ¤ data tuli palvelimen generoimassa HTML-koodissa. -->\n<p>Before the AJAX era, all web pages worked like the <a href=\"/osa0#perinteinen-web-sovellus\">traditional web application</a> we saw earlier in this chapter.\nAll of the data shown on the page was fetched with the HTML-code generated by the server. </p>\n<!-- Muistiinpanojen sivu siis lataa nÃ¤ytettÃ¤vÃ¤n datan AJAX:illa. Lomakkeen lÃ¤hetys sen sijaan tapahtuu perinteisen web-lomakkeen lÃ¤hetysmekanismin kautta. -->\n<p>The Notes page uses AJAX to fetch the notes data. Submitting the form still uses the traditional mechanism of submitting web-forms. </p>\n<!-- Sovelluksen urlit heijastavat vanhaa huoletonta aikaa. JSON-muotoinen data haetaan urlista <https://fullstack-exampleapp.herokuapp.com/data.json> ja uuden muistiinpanon tiedot lÃ¤hetetÃ¤Ã¤n urliin <https://fullstack-exampleapp.herokuapp.com/new_note>. NykyÃ¤Ã¤n nÃ¤in valittuja urleja ei pidettÃ¤isi ollenkaan hyvinÃ¤, ne eivÃ¤t noudata ns. [RESTful](https://en.wikipedia.org/wiki/Representational_state_transfer#Applied_to_Web_services)-apien yleisesti hyvÃ¤ksyttyjÃ¤ konventioita. KÃ¤sittelemme asiaa tarkemmin [osassa 3](/osa3). -->\n<p>The application URLs reflect the old, carefree times. JSON data is fetched from the url <a href=\"https://fullstack-exampleapp.herokuapp.com/data.json\">https://fullstack-exampleapp.herokuapp.com/data.json</a> and new notes are sent to the url <a href=\"https://fullstack-exampleapp.herokuapp.com/new_note\">https://fullstack-exampleapp.herokuapp.com/new_note</a>.<br>\nNowadays urls like these would not be good at all, as they don't follow the generally acnowledged conventions of <a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer#Applied_to_Web_services\">RESTful</a> APIs, which we'll look into more in <a href=\"/osa3\">part 3</a></p>\n<!-- AJAXiksi kutsuttu asia on arkipÃ¤ivÃ¤istynyt, ja muuttunut itsestÃ¤Ã¤nselvyydeksi. Koko termi on hiipunut unholaan ja nuori polvi ei ole sitÃ¤ edes ikinÃ¤ kuullut. -->\n<p>The thing called AJAX is now so commonplace it's taken for granted. The term has faded into oblivion, and the new generations have never even heard of it. </p>\n<h3>Single page app</h3>\n<!-- Esimerkkisovelluksemme pÃ¤Ã¤sivu toimii perinteisten web-sivujen tapaan: kaikki sovelluslogiikka on palvelimella ja selain ainoastaan renderÃ¶i palvelimen lÃ¤hettÃ¤mÃ¤Ã¤ HTML-koodia. -->\n<p>In our example app, the home page works like a traditional web-page: All of the logic is on the server, and the browser only renders the HTML as instructed. </p>\n<!-- Muistiinpanoista huolehtivassa sivussa osa sovelluslogiikasta, eli olemassaolevien muistiinpanojen HTML-koodin generointi on siirretty selaimen vastuulle. Selain hoitaa tehtÃ¤vÃ¤n suorittamalla palvelimelta lataamansa Javascript-koodin. Selaimella suoritettava koodi hakee ensin muistiinpanot palvelimelta JSON-muotoisena raakadatana ja lisÃ¤Ã¤ sivulle muistiinpanoja edustavat HTML-elementit [DOM-apia](/osa0#document-object-model-eli-dom) hyÃ¶dyntÃ¤en. -->\n<p>The Notes page gives some of the responsibility, generating the HTML code for existing notes, to the browser. The browser tackles this task by executing the JavaScript code it fetched from the server. The code fetches the notes from the server as JSON-data, and adds HTML elements for displaying the notes to the page using the <a href=\"/osa0#document-object-model-eli-dom\">DOM-API</a>.</p>\n<!-- Viimeisten vuosien aikana on noussut esiin tyyli tehdÃ¤ web-sovellukset kÃ¤yttÃ¤en [Single-page application](https://en.wikipedia.org/wiki/Single-page_application) (SPA) -tyyliÃ¤, missÃ¤ sovelluksilla ei enÃ¤Ã¤ ole esimerkkisovelluksemme tapaan erillisiÃ¤, palvelimen sille lÃ¤hettÃ¤miÃ¤ sivuja, vaan sovellus koostuu ainoastaan yhdestÃ¤ palvelimen lÃ¤hettÃ¤mÃ¤stÃ¤ HTML-sivusta, jonka sisÃ¤ltÃ¶Ã¤ manipuloidaan selaimessa suoritettavalla JavascriptillÃ¤. -->\n<p>In recent years, the <a href=\"https://en.wikipedia.org/wiki/Single-page_application\">Single-page application</a> (SPA) style of creating web-applications has emerged. SPA style websites don't fetch all of their pages separately from the server like our sample application does, but are composed of one HTML page fetched from the server, contents of which are manipulated with JavaScript running on the browser.</p>\n<!-- Sovelluksemme muistiinpanosivu muistuttaa jo hiukan SPA-tyylistÃ¤ sovellusta, sitÃ¤ se ei kuitenkaan vielÃ¤ ole, sillÃ¤ vaikka muistiinpanojen renderÃ¶intilogiikka on toteutettu selaimessa, kÃ¤yttÃ¤Ã¤ sivu vielÃ¤ perinteistÃ¤ mekanisimia uusien muistiinpanojen luomiseen, eli se lÃ¤hettÃ¤Ã¤ uuden muistiinpanon tiedot lomakkeen avulla ja palvelin pyytÃ¤Ã¤ <i>uudelleenohjauksen</i> avulla selainta lataamaan muistiinpanojen sivun uudelleen. -->\n<p>The Notes page of our application bears some resemblance to SPA-style apps, but it's not quite there yet. Even though the logic for rendering the notes is run on the browser, the page still uses the traditional way of adding new notes. The data is sent to the server with form submit, and the server instructs the browser to reload the Notes page with a <i>redirect</i>.</p>\n<!-- Osoitteesta <https://fullstack-exampleapp.herokuapp.com/spa> lÃ¶ytyy sovelluksen single page app -versio. -->\n<!-- Sovellus nÃ¤yttÃ¤Ã¤ ensivilkaisulta tÃ¤smÃ¤lleen samalta kuin edellinen versio. -->\n<!-- HTML-koodi on lÃ¤hes samanlainen, erona on ladattava Javascript-tiedosto (<i>spa.js</i>) ja pieni muutos form-tagin mÃ¤Ã¤rittelyssÃ¤: -->\n<p>A single page app version of our example application can be found from <a href=\"https://fullstack-exampleapp.herokuapp.com/spa\">https://fullstack-exampleapp.herokuapp.com/spa</a>.\nAt first glance, the application looks exactly the same as the previous one.\nThe HTML code is almost identical, but the JavaScript file is different (<i>spa.js</i>) and there is a small change in the form-tag is defined: </p>\n<picture><img src=\"/static/87ccf3d5204dd14fd26ac158f2920d01/14be6/25.png\" srcset=\"/static/87ccf3d5204dd14fd26ac158f2920d01/4cce7/25.png 200w,\n/static/87ccf3d5204dd14fd26ac158f2920d01/bae5f/25.png 400w,\n/static/87ccf3d5204dd14fd26ac158f2920d01/14be6/25.png 800w,\n/static/87ccf3d5204dd14fd26ac158f2920d01/1b35a/25.png 1200w,\n/static/87ccf3d5204dd14fd26ac158f2920d01/9ee03/25.png 1600w,\n/static/87ccf3d5204dd14fd26ac158f2920d01/dab56/25.png 1788w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- Lomakkeelle ei ole nyt mÃ¤Ã¤ritelty ollenkaan <i>action</i>- eikÃ¤ <i>method</i>-attribuutteja, jotka mÃ¤Ã¤rÃ¤Ã¤vÃ¤t minne ja miten selain lÃ¤hettÃ¤Ã¤ lomakkeelle syÃ¶tetyn datan. -->\n<p>The form has no <i>action</i> or <i>method</i> attributes to define how and where to send the input data. </p>\n<!-- Avaa nyt <i>Network</i>-vÃ¤lilehti ja tyhjennÃ¤ se &empty;-symbolilla. Kun luot uuden muistiinpanon, huomaat, ettÃ¤ selain lÃ¤hettÃ¤Ã¤ ainoastaan yhden pyynnÃ¶n palvelimelle: -->\n<p>Open the <i>Network</i>-tab and empty it by clicking the âˆ… symbol. When you now create a new note, you'll notice that the browser sends only one request to the server. </p>\n<picture><img src=\"/static/7cc27a307dc517436c9caf3149284201/14be6/26.png\" srcset=\"/static/7cc27a307dc517436c9caf3149284201/4cce7/26.png 200w,\n/static/7cc27a307dc517436c9caf3149284201/bae5f/26.png 400w,\n/static/7cc27a307dc517436c9caf3149284201/14be6/26.png 800w,\n/static/7cc27a307dc517436c9caf3149284201/1b35a/26.png 1200w,\n/static/7cc27a307dc517436c9caf3149284201/9ee03/26.png 1600w,\n/static/7cc27a307dc517436c9caf3149284201/bce99/26.png 2090w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- PyyntÃ¶ kohdistuu osoitteeseen <i>new\\_note\\_spa</i>, on tyypiltÃ¤Ã¤n POST ja se sisÃ¤ltÃ¤Ã¤ JSON-muodossa olevan uuden muistiinpanon, johon kuuluu sekÃ¤ sisÃ¤ltÃ¶ (<i>content</i>), ettÃ¤ aikaleima (<i>date</i>): -->\n<p>The POST request to the address <i>new_note_spa</i> contains the new note as JSON-data containing both the content of the note (<i>content</i>) and the timestamp (<i>date</i>): </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  content<span class=\"token punctuation\">:</span> <span class=\"token string\">\"single page app ei tee turhia sivunlatauksia\"</span><span class=\"token punctuation\">,</span>\n  date<span class=\"token punctuation\">:</span> <span class=\"token string\">\"2019-01-03T15:11:22.123Z\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<!-- PyyntÃ¶Ã¶n liitetty headeri <i>Content-Type</i> kertoo palvelimelle, ettÃ¤ pyynnÃ¶n mukana tuleva data on JSON-muotoista: -->\n<p>The <i>Content-Type</i> header of the request tells the server, that the included data is represented in the JSON format. </p>\n<picture><img src=\"/static/9d824469a8018c3e69ccf67cd8f106f3/14be6/27.png\" srcset=\"/static/9d824469a8018c3e69ccf67cd8f106f3/4cce7/27.png 200w,\n/static/9d824469a8018c3e69ccf67cd8f106f3/bae5f/27.png 400w,\n/static/9d824469a8018c3e69ccf67cd8f106f3/14be6/27.png 800w,\n/static/9d824469a8018c3e69ccf67cd8f106f3/1b35a/27.png 1200w,\n/static/9d824469a8018c3e69ccf67cd8f106f3/9ee03/27.png 1600w,\n/static/9d824469a8018c3e69ccf67cd8f106f3/e6773/27.png 1850w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<!-- Ilman headeria palvelin ei osaisi parsia pyynnÃ¶n mukana tulevaa dataa oiken. -->\n<p>Without this header, the server would not know how to correctly parse the data. </p>\n<!-- Palvelin vastaa kyselyyn statuskoodilla [201 created](https://httpstatuses.com/201). TÃ¤llÃ¤ kertaa palvelin ei pyydÃ¤ uudelleenohjausta kuten aiemmassa versiossamme. the definition of Selain pysyy samalla sivulla ja muita HTTP-pyyntÃ¶jÃ¤ ei suoriteta. -->\n<p>The server responds with statuscode <a href=\"https://httpstatuses.com/201\">201 created</a>. This time the server does not ask for a redirect, the browser stays on the same page, and it sends no further HTTP-requests. </p>\n<!-- Ohjelman single page app -versiossa lomakkeen tietoja ei lÃ¤hetetÃ¤ selaimen normaalin lomakkeiden lÃ¤hetysmekanismin avulla, lÃ¤hettÃ¤misen hoitaa selaimen lataamassa Javascript-tiedostossa mÃ¤Ã¤ritelty koodi. Katsotaan hieman koodia vaikka yksityiskohdista ei tarvitse nytkÃ¤Ã¤n vÃ¤littÃ¤Ã¤ liikaa. -->\n<p>The SPA version of the app does not send the form data the traditional way, but instead uses the JavaScript code it fetched from the server.\nWe'll look into this code a bit, even though understanding all the details of it is not important just yet. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> form <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'notes_form'</span><span class=\"token punctuation\">)</span>\nform<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsubmit</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">var</span> note <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    content<span class=\"token punctuation\">:</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n    date<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span>\n\n  notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span>\n  e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n  <span class=\"token function\">redrawNotes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">sendToServer</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<!-- Komennolla <em>document.getElementById('notes\\_form')</em> koodi hakee sivulta lomake-elementin ja rekisterÃ¶i sille <i>tapahtumankÃ¤sittelijÃ¤n</i> hoitamaan tilanteen, missÃ¤ lomake \"submitoidaan\", eli lÃ¤hetetÃ¤Ã¤n. TapahtumankÃ¤sittelijÃ¤ kutsuu heti metodia <em>e.preventDefault()</em> jolla se estÃ¤Ã¤ lomakkeen lÃ¤hetyksen oletusarvoisen toiminnan. Oletusarvoinen toiminta aiheuttaisi lomakkeen lÃ¤hettÃ¤misen ja sivun uudelleen lataamisen, sitÃ¤ emme single page -sovelluksissa halua tapahtuvan. -->\n<p>The command <em>document.getElementById('notes_form')</em> instructs the code to fetch the form-element from the page, and to register an <i>event handler</i> to handle the form submit event. The event handler immediately calls the method <em>e.preventDefault()</em> to prevent the default handling of form submit. The default method would send the data to server and cause a redirect, which we don't want to happen. </p>\n<!-- TÃ¤mÃ¤n jÃ¤lkeen se luo muistiinpanon, lisÃ¤Ã¤ sen muistiinpanojen listalle komennolla <em>notes.push(note)</em>, piirtÃ¤Ã¤ ruudun sisÃ¤llÃ¶n eli muistiinpanojen listan uudelleen ja lÃ¤hettÃ¤Ã¤ uuden muistiinpanon palvelimelle. -->\n<p>Then the event handler creates a new note, adds it to the notes list with the command <em>notes.push(note)</em>, rerenders the note list on the page and sends the new note to the server. </p>\n<!-- Palvelimelle muistiinpanon lÃ¤hettÃ¤vÃ¤ koodi seuraavassa: -->\n<p>The code for sending the note to the server is as follows: </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">sendToServer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> xhttpForPost <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ...</span>\n\n  xhttpForPost<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/new_note_spa'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n  xhttpForPost<span class=\"token punctuation\">.</span><span class=\"token function\">setRequestHeader</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'Content-type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'application/json'</span>\n  <span class=\"token punctuation\">)</span>\n  xhttpForPost<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<!-- Koodissa siis mÃ¤Ã¤ritellÃ¤Ã¤n, ettÃ¤ kyse on HTTP POST -pyynnÃ¶stÃ¤, mÃ¤Ã¤ritellÃ¤Ã¤n headerin <i>Content-type</i> avulla lÃ¤hetettÃ¤vÃ¤n datan tyypiksi JSON, ja lÃ¤hetetÃ¤Ã¤n data JSON-merkkijonona. -->\n<p>The code determines, that the data is to be send with a HTTP POST request and the data type is to be JSON. The data type is determined with a <i>Content-type</i> header. Then the data is sent as JSON-string. </p>\n<!-- Sovelluksen koodi on nÃ¤htÃ¤vissÃ¤ osoitteessa <https://github.com/mluukkai/example_app>. Kannattaa huomata, ettÃ¤ sovellus on tarkoitettu ainoastaan kurssin kÃ¤sitteistÃ¶Ã¤ demonstroivaksi esimerkiksi, koodi on osin tyyliltÃ¤Ã¤n huonoa ja siitÃ¤ ei tule ottaa mallia omia sovelluksia tehdessÃ¤. Sama koskee kÃ¤ytettyjÃ¤ urleja, single page app -tyyliÃ¤ noudattavan sivun kÃ¤yttÃ¤mÃ¤ uusien muistiinpanojen kohdeosoite <i>new\\_note\\_spa</i> ei noudata nykyisin suositeltavia kÃ¤ytÃ¤ntÃ¶jÃ¤. -->\n<p>The application code is available at <a href=\"https://github.com/mluukkai/example_app\">https://github.com/mluukkai/example_app</a>.\nIt's worth to remember, that the application is only ment to demonstrate the concepts of the course. The code is partially bad style, and should not be used as an example when coding your own applications. The same is true for the URLs used. The URL <i>new_note_spa</i> new notes are sent to does not follow the current best practices. </p>\n<h3>Javascript-libraries</h3>\n<!-- Kurssin esimerkkisovellus on tehty ns. [vanilla JavascriptillÃ¤](https://medium.freecodecamp.org/is-vanilla-javascript-worth-learning-absolutely-c2c67140ac34) eli kÃ¤yttÃ¤en pelkkÃ¤Ã¤ DOM-apia ja Javascript-kieltÃ¤ sivujen rakenteen manipulointiin. -->\n<p>The sample app is done with so called <a href=\"https://medium.freecodecamp.org/is-vanilla-javascript-worth-learning-absolutely-c2c67140ac34\">vanilla Javascript</a> using only the DOM-API and JavaScript to manipulate the structure of the pages. </p>\n<!-- PelkÃ¤n Javascriptin ja DOM-apin kÃ¤ytÃ¶n sijaan Web-ohjelmoinnissa hyÃ¶dynnetÃ¤Ã¤n yleensÃ¤ kirjastoja, jotka sisÃ¤ltÃ¤vÃ¤t DOM-apia helpommin kÃ¤ytettÃ¤viÃ¤ tyÃ¶kaluja sivujen muokkaamiseen. ErÃ¤s tÃ¤llÃ¤inen kirjasto on edelleenkin hyvin suosittu [JQuery](https://jquery.com/). -->\n<p>Instead of using just JavaScript and the DOM-API, different libraries containing easier to use tools than the DOM-API are often used to manipulate pages. One of these libraries is the ever-so-popular <a href=\"https://jquery.com/\">JQuery</a>.</p>\n<!-- JQuery on kehitetty aikana, jolloin web-sivut olivat vielÃ¤ suurimmaksi osaksi perinteisiÃ¤, eli palvelin muodosti HTML-sivuja, joiden toiminnallisuutta rikastettiin selaimessa JQueryllÃ¤ kirjoitetun Javascript-koodin avulla. Yksi syy JQueryn suosion taustalla oli niin sanottu cross-browser yhteensopivuus, eli kirjasto toimi selaimesta ja selainvalmistajasta riippumatta samalla tavalla, eikÃ¤ sitÃ¤ kÃ¤yttÃ¤essÃ¤ ollut enÃ¤Ã¤ tarvetta kirjoittaa selainversiospesifisiÃ¤ ratkaisuja. Nykyisin perus JQueryn kÃ¤yttÃ¶ ei ole enÃ¤Ã¤ yhtÃ¤ perusteltua kuin aikaisemmin, sillÃ¤ vanillaJS on kehittynyt paljon ja kÃ¤ytetyimmÃ¤t selaimet tukevat yleisesti ottaen hyvin perustoiminnallisuuksia. -->\n<p>JQuery was developed back when web-pages mainly followed the traditional style of the server generating HTML pages, functionality of which was enhanced on the browser using JavaScript written with JQuery. One of the reasons for the success of JQuery was so called cross-browser compatibility. The library worked regardless of the browser or the company who made it, so there was no need for browser specific solutions. Nowadays using JQuery is not as justified, as VanillaJS has advanced a lot, and the most popular browsers generally support basic functionalities well. </p>\n<!-- Single page app -tyylin noustua suosioon on ilmestynyt useita JQueryÃ¤ \"modernimpia\" tapoja sovellusten kehittÃ¤miseen. EnsimmÃ¤isen aallon suosikki oli [BackboneJS](http://backbonejs.org/). Googlen kehittÃ¤mÃ¤ [AngularJS](https://angularjs.org/) nousi 2012 tapahtuneen [julkaisun](https://github.com/angular/angular.js/blob/master/CHANGELOG.md#100-temporal-domination-2012-06-13) jÃ¤lkeen erittÃ¤in nopeasti lÃ¤hes de facto -standardin asemaan modernissa web-sovelluskehityksessÃ¤. -->\n<p>The rise of the single page app brought serveral more \"modern\" ways of web development than JQuery. The favourite of the first wave of developers was <a href=\"http://backbonejs.org/\">BackboneJS</a>. After it's launch (<a href=\"https://github.com/angular/angular.js/blob/master/CHANGELOG.md#100-temporal-domination-2012-06-13\">https://github.com/angular/angular.js/blob/master/CHANGELOG.md#100-temporal-domination-2012-06-13</a>) in 2012 Googles <a href=\"https://angularjs.org/\">AngularJS</a> quicly became almost the de facto standard of modern web development. </p>\n<!-- Angularin suosio kuitenkin romahti siinÃ¤ vaiheessa kun Angular-tiimi [ilmoitti](https://jaxenter.com/angular-2-0-announcement-backfires-112127.html) lokakuussa 2014, ettÃ¤ version 1 tuki lopetetaan ja Angular 2 ei tule olemaan taaksepÃ¤in yhteensopiva ykkÃ¶sversion kanssa. Angular 2 ja uudemmat versiot eivÃ¤t ole saaneet kovin innostunutta vastaanottoa. -->\n<p>However, the popularity of Angular plummeted after the Angluar team <a href=\"https://jaxenter.com/angular-2-0-announcement-backfires-112127.html\">announced</a> in October 2014 that support for version 1 will end, and Angular 2 will not be backwards compatible with the first version. Angular 2 and the newer versions have not gotten too warm of a welcome. </p>\n<!-- Nykyisin suosituin tapa toteuttaa web-sovellusten selainpuolen logiikka on Facebookin kehittÃ¤mÃ¤ [React](https://reactjs.org/)-kirjasto. Tulemme tutustumaan kurssin aikana Reactiin ja sen kanssa yleisesti kÃ¤ytettyyn [Redux](https://github.com/reactjs/redux)-kirjastoon. -->\n<p>Currently the most popular tool for implementing the browser side logic of web-applications is Facebook's <a href=\"https://reactjs.org/\">React</a>-library.\nDuring this course, we will get familiar with React and the <a href=\"https://github.com/reactjs/redux\">Redux</a>-library, which are frequently used together. </p>\n<!-- Reactin asema nÃ¤yttÃ¤Ã¤ tÃ¤llÃ¤ hetkellÃ¤ vahvalta, mutta Javascript-maailma ei lepÃ¤Ã¤ koskaan. Viime aikoina kiinnostusta on alkanut herÃ¤ttÃ¤Ã¤ mm. uudempi tulokas [VueJS](https://vuejs.org/). -->\n<p>The status of React seems strong, but the world of JavaScript is ever changing. Recently for example a newcomer <a href=\"https://vuejs.org/\">VueJS</a> has been capturing some interest. </p>\n<h3>Full stack -web development</h3>\n<!-- MitÃ¤ tarkoitetaan kurssin nimellÃ¤ <i>Full stack -websovelluskehitys</i>? Full stack on hypenomainen termi; kaikki puhuvat siitÃ¤, mutta kukaan ei oikein tiedÃ¤, mitÃ¤ se tarkoittaa tai ainakaan mitÃ¤Ã¤n yhtenevÃ¤istÃ¤ mÃ¤Ã¤ritelmÃ¤Ã¤ termille ei ole. -->\n<p>What does the name of the course, <i>Full stack web development</i>, mean? Full stack is a buzzword, and everyone talks about it while no one really knows what it actually means. Or at least no agreed upon definition exists for the term. </p>\n<!-- KÃ¤ytÃ¤nnÃ¶ssÃ¤ kaikki websovellukset sisÃ¤ltÃ¤vÃ¤t (ainakin) kaksi \"kerrosta\", ylempÃ¤nÃ¤, eli lÃ¤hempÃ¤nÃ¤ loppukÃ¤yttÃ¤jÃ¤Ã¤ olevan selaimen ja alla olevan palvelimen. Palvelimen alapuolella on usein vielÃ¤ tietokanta. NÃ¤in websovelluksen <i>arkkitehtuurin</i> voi ajatella muodostavan pinon, englanniksi <i>stack</i>. -->\n<p>Practically all web applications have (at least) two \"layers\": the browser at the top layer, being closer to the end user, and the server at the bottom layer. Often there is also a database layer below the server. We can therefore think of the <i>architecture</i> of a web application as a kind of a <i>stack</i> of layers. </p>\n<!-- Websovelluskehityksen yhteydessÃ¤ puhutaan usein myÃ¶s \"frontista\" ([frontend](https://en.wikipedia.org/wiki/Front_and_back_ends)) ja \"backistÃ¤\" ([backend](https://en.wikipedia.org/wiki/Front_and_back_ends)). Selain on frontend ja selaimessa suoritettava Javascript on frontend-koodia. Palvelimella taas pyÃ¶rii backend-koodi. -->\n<p>Often we also talk about the <a href=\"https://en.wikipedia.org/wiki/Front_and_back_ends\">frontend</a> and the <a href=\"https://en.wikipedia.org/wiki/Front_and_back_ends\">backend</a>. The browser is the frontend, and JavaScript run on the browser is frontend code. The server on the other hand is the backend. </p>\n<!-- TÃ¤mÃ¤n kurssin kontekstissa full stack -sovelluskehitys tarkoittaa sitÃ¤, ettÃ¤ fokus on kaikissa sovelluksen osissa, niin frontendissÃ¤ kuin backendissÃ¤ sekÃ¤ taustalla olevassa tietokannassa. MyÃ¶s palvelimen kÃ¤yttÃ¶jÃ¤rjestelmÃ¤ ja sen ohjelmistot lasketaan usein osaksi stackia, niihin emme kuitenkaan tÃ¤llÃ¤ kurssilla puutu. -->\n<p>In the context of this course, full stack web development means that we focus on all parts of the application: the frontend, the backend and the database. Sometimes the software on the server and its operating system are seen as parts of the stack, but we won't go into those. </p>\n<!-- Ohjelmoimme myÃ¶s palvelinpuolta, eli backendia Javascriptilla, kÃ¤yttÃ¤en [Node.js](https://nodejs.org/en/)-suoritusympÃ¤ristÃ¶Ã¤. NÃ¤in full stack -sovelluskehitys saa vielÃ¤ uuden ulottuvuuden, kun voimme kÃ¤yttÃ¤Ã¤ samaa ohjelmointikieltÃ¤ pinon useammassa kerroksessa. Full stack -sovelluskehitys ei vÃ¤lttÃ¤mÃ¤ttÃ¤ edellytÃ¤ sitÃ¤, ettÃ¤ kaikissa \"sovelluspinon\" kerroksissa on kÃ¤ytÃ¶ssÃ¤ sama kieli (Javascript). -->\n<p>We will code the backend with JavaScript, using <a href=\"https://nodejs.org/en/\">Node.js</a> runtime environment. Using the same programming language on multiple layers of the stack gives full stack web development a whole new dimension. However it's not a requirement of full stack web development to use the same programming language (JavaScript) for all layers of the stack. </p>\n<!-- Aiemmin on ollut yleisempÃ¤Ã¤, ettÃ¤ sovelluskehittÃ¤jÃ¤t ovat erikoistuneet tiettyyn sovelluksen osaan, esim. backendiin. Tekniikat backendissa ja frontendissa ovat saattaneet olla hyvin erilaisia. Full stack -trendin myÃ¶tÃ¤ on tullut tavanomaiseksi, ettÃ¤ sovelluskehittÃ¤jÃ¤ hallitsee riittÃ¤vÃ¤sti kaikkia sovelluksen tasoja ja tietokantaa. Usein full stack -kehittÃ¤jÃ¤n on myÃ¶s omattava riittÃ¤vÃ¤ mÃ¤Ã¤rÃ¤ konfiguraatio- ja yllÃ¤pito-osaamista, jotta kehittÃ¤jÃ¤ pystyy operoimaan sovellustaan esim. pilvipalveluissa. -->\n<p>It used to be more common for developers to specialize in one layer of the stack, for example the backend. Technologies on the backend and the frontend were quite different. With the Full stack trend, it has become common for developers to be proficient on all layers of the application and the database. Oftentimes, full stack developers must also have enough configuration and administration skills to operate their application for example in the cloud. </p>\n<h3>Javascript fatigue</h3>\n<!-- Full stack -sovelluskehitys on monella tapaa haastavaa. Asioita tapahtuu monessa paikassa ja mm. debuggaaminen on oleellisesti normaalia tyÃ¶pÃ¶ytÃ¤sovellusta hankalampaa. Javascript ei toimi aina niin kuin sen olettaisi toimivan (verrattuna moniin muihin kieliin) ja sen suoritusympÃ¤ristÃ¶jen asynkroninen toimintamalli aiheuttaa monenlaisia haasteita. Verkon yli tapahtuva kommunikointi edellyttÃ¤Ã¤ HTTP-protokollan tuntemusta. On tunnettava myÃ¶s tietokantoja ja hallittava palvelinten konfigurointia ja yllÃ¤pitoa. HyvÃ¤ olisi myÃ¶s hallita riittÃ¤vÃ¤sti CSS:Ã¤Ã¤, jotta sovellukset saataisiin edes siedettÃ¤vÃ¤n nÃ¤kÃ¶isiksi. -->\n<p>Full stack web development is challenging in many ways. Things are happening in many places at once, and  debugging is quite a bit harder than with regular desktop applications. JavaScript does not always work like you'd expect it to (compared to many other languages) and the asynchronous way its runtime environments work causes all sorts of challenges. Communicating in the web requires knowledge of the HTTP-protocol. One must also handle databases and server administration and configuration. It would also be good to know enough CSS to make applications at least somewhat presentable. </p>\n<!-- Oman haasteensa tuo vielÃ¤ se, ettÃ¤ Javascript-maailma etenee koko ajan todella kovaa vauhtia eteenpÃ¤in. Kirjastot, tyÃ¶kalut ja itse kielikin ovat jatkuvan kehityksen alla. Osa alkaa kyllÃ¤styÃ¤ nopeaan kehitykseen ja sitÃ¤ kuvaamaan on lanseerattu termi [Javascript](https://medium.com/@ericclemmons/javascript-fatigue-48d4011b6fc4) [fatigue](https://auth0.com/blog/how-to-manage-javascript-fatigue/) eli [Javascript](https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f)-vÃ¤symys. -->\n<p>The world of JavaScript develops fast, which brings its own set of challenges. Tools, libraries and the language itself are under constant development. Some are starting to get tired of the constant changes, and have launched to term for it: <a href=\"https://medium.com/@ericclemmons/javascript-fatigue-48d4011b6fc4\">Javascript</a> <a href=\"https://auth0.com/blog/how-to-manage-javascript-fatigue/\">fatigue</a>.</p>\n<!-- Javascript-vÃ¤symys tulee varmasti iskemÃ¤Ã¤n myÃ¶s tÃ¤llÃ¤ kurssilla. Onneksi nykyÃ¤Ã¤n on olemassa muutamia tapoja loiventaa oppimiskÃ¤yrÃ¤Ã¤, ja voimme aloittaa keskittymÃ¤llÃ¤ konfiguraation sijaan koodaamiseen. Konfiguraatioita ei voi vÃ¤lttÃ¤Ã¤, mutta seuraavat viikot voimme edetÃ¤ iloisin mielin vailla pahimpia konfiguraatiohelvettejÃ¤. -->\n<p>You will catch the JavaScript fatigue during this course. Lucky for us, there are a few ways to lower the learning curve, and we can start with coding instead of configuration. We can't avoid configuration completely, but the next few weeks we can merrily push ahead avoiding the worst of the configuration hells. </p>\n</div>\n<div class=\"tasks\"> \n  <h3>Exercises</h3>\n<!-- TehtÃ¤vÃ¤t palautetaan GitHubin kautta ja merkitsemÃ¤llÃ¤ tehdyt tehtÃ¤vÃ¤t [palautussovellukseen](https://studies.cs.helsinki.fi/fullstackopen2019/).\n\nVoit palauttaa kurssin kaikki tehtÃ¤vÃ¤t samaan repositorioon, tai kÃ¤yttÃ¤Ã¤ useita repositorioita. Jos palautat eri osien tehtÃ¤viÃ¤ samaan repositorioon, kÃ¤ytÃ¤ jÃ¤rkevÃ¤Ã¤ hakemistojen nimentÃ¤Ã¤. Jos kÃ¤ytÃ¤t privaattirepositorioa tehtÃ¤vien palautukseen liitÃ¤ repositoriolle collaboratoriksi _mluukkai_\n\nErÃ¤s varsin toimiva hakemistorakenne palautusrepositoriolle on seuraava -->\n<p>The exercises are submitted via GitHub, and by marking the exercises as done in the <a href=\"https://studies.cs.helsinki.fi/fullstackopen2019/\">submission system</a>.</p>\n<p>You can submit all of the exercises into the same repository, or use multiple different repositories. If you submit exercises from different parts into the same repository, name your directories well. If you use a private repository to submit the exercises, add <em>mluukkai</em> as a contributor to it.</p>\n<p>One good way to name the directories in your submission repository is as follows: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">part0\npart1\n  kurssitiedot\n  unicafe\n  anekdootit\npart2\n  puhelinluettelo\n  maiden_tiedot</code></pre></div>\n<!-- Eli kutakin osaa kohti on oma hakemistonsa, joka vielÃ¤ jakautuu tehtÃ¤vÃ¤sarjat (kuten osan 1 unicafe) sisÃ¤ltÃ¤viin hakemistoihin. -->\n<p>So each part has it's own directory, which contains a directory for each exercise set (like the unicafe exercises in part 1). </p>\n<!-- TehtÃ¤vÃ¤t palautetaan **yksi osa kerrallaan**. Kun olet palauttanut osan tehtÃ¤vÃ¤t, et voi enÃ¤Ã¤ palauttaa saman osan tekemÃ¤ttÃ¤ jÃ¤ttÃ¤miÃ¤si tehtÃ¤viÃ¤. -->\n<p>The exercises are submitted <strong>one part at a time</strong>. When you have submitted the exercises for a part, you can no longer submit any missed exercises for that part. </p>\n  <h4>0.1: HTML</h4>\n<!-- Kertaa HTML:n perusteet lukemalla Mozillan tutoriaali [HTML:stÃ¤](https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics). \n\n<i>TÃ¤tÃ¤ tehtÃ¤vÃ¤Ã¤ ei palauteta githubiin, riittÃ¤Ã¤ ettÃ¤ luet tutoriaalin.</i> -->\n<p>Revise the basics of HTML by reading this tutorial from Mozilla: <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics\">HTML tutorial</a>. </p>\n<p><i>This exercise is not submitted to GitHub, it's enough to just read the tutorial</i></p>\n  <h4>0.2: CSS</h4>\n<!-- Kertaa CSS:n perusteet lukemalla Mozillan tutoriaali [CSS:stÃ¤](https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/CSS_basics).\n\n<i>TÃ¤tÃ¤ tehtÃ¤vÃ¤Ã¤ ei palauteta githubiin, riittÃ¤Ã¤ ettÃ¤ luet tutoriaalin.</i> -->\n<p>Revise the basics of CSS by reading this tutorial from Mozilla: <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/CSS_basics\">CSS tutorial</a>.</p>\n<p><i>This exercise is not submitted to GitHub, it's enough to just read the tutorial</i></p>\n  <h4>0.3: HTML forms</h4>\n <!-- Tutustu HTML:n lomakkeiden perusteisiin lukemalla Mozillan tutoriaali [Your first form](https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Your_first_HTML_form). -->\n<!-- <i>TÃ¤tÃ¤ tehtÃ¤vÃ¤Ã¤ ei palauteta githubiin, riittÃ¤Ã¤ ettÃ¤ luet tutoriaalin.</i> -->\n<p>Learn about the basics of HTML forms by reading Mozilla's tutorial <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Your_first_HTML_form\">Your first form</a>.</p>\n<p><i>This exercise is not submitted to GitHub, it's enough to just read the tutorial</i></p>\n  <h4>0.4: new note</h4>\n<!-- Luvussa [Javascriptia sisÃ¤ltÃ¤vÃ¤n sivun lataaminen - kertaus](/osa0/web_sovelluksen_toimintaperiaatteita#javascriptia-sisaltavan-sivun-lataaminen-kertaus) kuvataan [sekvenssikaavion](https://github.com/mluukkai/ohjelmistotekniikka-kevat2019/blob/master/web/materiaali.md#sekvenssikaaviot) avulla sivun <https://fullstack-exampleapp.herokuapp.com/notes> avaamisen aikaansaama tapahtumasarja.\n\nKaavio on luotu [websequencediagrams](https://www.websequencediagrams.com)-palvelussa, seuraavasti: -->\n<p>In chapter <a href=\"/osa0/web_sovelluksen_toimintaperiaatteita#javascriptia-sisaltavan-sivun-lataaminen-kertaus\">Loading a page containing JavaScript - revised</a> the chain of events caused by opening the page <a href=\"https://fullstack-exampleapp.herokuapp.com/notes\">https://fullstack-exampleapp.herokuapp.com/notes</a> is depicted as a <a href=\"https://github.com/mluukkai/ohjelmistotekniikka-kevat2019/blob/master/web/materiaali.md#sekvenssikaaviot\">sequence diagram</a> (NB: the link is in Finnish). </p>\n<p>The diagram was made using <a href=\"https://www.websequencediagrams.com\">websequencediagrams</a> service as follows: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">selain-&gt;palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/notes\npalvelin--&gt;selain: HTML-koodi\nselain-&gt;palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/main.css\npalvelin--&gt;selain: main.css\nselain-&gt;palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/main.js\npalvelin--&gt;selain: main.js\n\nnote over selain:\nselain alkaa suorittaa js-koodia\njoka pyytÃ¤Ã¤ JSON-datan palvelimelta\nend note\n\nselain-&gt;palvelin: HTTP GET https://fullstack-exampleapp.herokuapp.com/data.json\npalvelin--&gt;selain: [{ content: &quot;HTML on helppoa&quot;, date: &quot;2019-01-01&quot; }, ...]\n\nnote over selain:\nselain suorittaa tapahtumankÃ¤sittelijÃ¤n\njoka renderÃ¶i muistiinpanot nÃ¤ytÃ¶lle\nend note</code></pre></div>\n<!-- **Create a similar diagram**, joka kuvaa mitÃ¤ tapahtuu tilanteesta, missÃ¤ kÃ¤yttÃ¤jÃ¤ luo uuden muistiinpanon ollessaan sivulla <https://fullstack-exampleapp.herokuapp.com/notes>, eli kirjoittaa tekstikenttÃ¤Ã¤n jotain ja painaa nappia <i>tallenna</i>. -->\n<!-- Kirjoita tarvittaessa palvelimella tai selaimessa tapahtuvat operaatiot sopivina kommentteina kaavion sekaan. -->\n<!-- Kaavion ei ole pakko olla sekvenssikaavio. MikÃ¤ tahansa jÃ¤rkevÃ¤ kuvaustapa kÃ¤y. -->\n<!-- Kaikki oleellinen tÃ¤mÃ¤n ja seuraavien kolmen tehtÃ¤vÃ¤n tekemiseen liittyvÃ¤ informaatio on selitettynÃ¤ [tÃ¤mÃ¤n osan](../osa0) tekstissÃ¤. NÃ¤iden tehtÃ¤vien ideana on, ettÃ¤ luet tekstin vielÃ¤ kerran ja mietit tarkkaan mitÃ¤ missÃ¤kin tapahtuu. Ohjelman [koodin](https://github.com/mluukkai/example_app) lukemista ei nÃ¤issÃ¤ tehtÃ¤vissÃ¤ edellytetÃ¤, vaikka sekin on toki mahdollista. -->\n<p><strong>Create a similar diagram</strong> depicting the situation where the user creates a new note on page <a href=\"https://fullstack-exampleapp.herokuapp.com/notes\">https://fullstack-exampleapp.herokuapp.com/notes</a> by writing something into the text field and clicking the <i>submit</i> button. </p>\n<p>If necessary, show operations on the browser or on the server as comments on the diagram.</p>\n<p>The diagram does not have to be a sequence diagram. Any sensible way of presenting the events is fine. </p>\n<p>All necessary information for doing this, and the next three exercises, can be found from the text of <a href=\"../osa0\">this part</a>.\nThe idea of these exercises is to read the text through once more, and to think through what is going on where. Reading the application <a href=\"https://github.com/mluukkai/example_app\">code</a> is not necessary, but it is of course possible. </p>\n  <h4>0.5: Single page app</h4>\n<!-- Tee kaavio tilanteesta, missÃ¤ kÃ¤yttÃ¤jÃ¤ menee selaimella osoitteeseen <https://fullstack-exampleapp.herokuapp.com/spa> eli muistiinpanojen [single page app](../osa0/#single-page-app)-versioon -->\n<p>Create a diagram depicting the situation where the user goes to the <a href=\"../osa0/#single-page-app\">single page app</a> version of the notes app at <a href=\"https://fullstack-exampleapp.herokuapp.com/spa\">https://fullstack-exampleapp.herokuapp.com/spa</a>.</p>\n  <h4>0.6: New note</h4>\n<!-- Tee kaavio tilanteesta, missÃ¤ kÃ¤yttÃ¤jÃ¤ luo uuden muistiinpanon single page -versiossa. -->\n<p>Create a diagram depicting the situation, where user creates a new note using the single page -version of the app. </p>\n<!-- TÃ¤mÃ¤ oli osan viimeinen tehtÃ¤vÃ¤ ja on aika pushata vastaukset githubiin merkata tehdyt tehtÃ¤vÃ¤t [palautussovellukseen](https://studies.cs.helsinki.fi/fullstackopen2019/). -->\n<p>This was the last exercise, and it's time to push your answers to GitHub and mark the exercises as done in the <a href=\"https://studies.cs.helsinki.fi/fullstackopen2019/\">submission application</a>.</p>\n</div>","frontmatter":{"mainImage":{"publicURL":"/static/part-0-b9999ec785b2c3bc6b8d3ef5d3537538.svg"},"part":0,"letter":"b"}}},"pageContext":{"part":0,"letter":"b"}}